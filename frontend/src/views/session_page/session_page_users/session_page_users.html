<session-info title="sessionInfoTitle" session="session" shops="shops"></session-info>

<div class="main-content__column">
  <div class="session-page">
    <div class="session-page__col-full">
      <div class="session-page__header">
        <h2 class="session-page__header-title">Список людей принявших предложение</h2>
        <div class="session-page__button">
          <custom-button
            href="'#/food/' + session.id"
            is-stretch="true"
            ng-show="session.status == 0 || isSessionCreator(session)"
            title="getJoinButtonLabel()">
          </custom-button>
        </div>
      </div>

      <div class="session-page__part">
        <div class="session-page__participants-order" ng-repeat="order in session.orders">
          <user-card order="order" can-change-payment-status="isSessionCreator(session)" can-delete="isSessionCreator(session) || isOrderCreator(order)" on-edit="saveOrder" on-delete="deleteOrder"></user-card>
        </div>
      </div>
    </div>


    <div class="session-page__footer">
      <div class="session-page__footer-button">
        <custom-button
          href="'#/order/' + session.id"
          ng-show="isSessionCreator(session) && session.status == 0 && !isOrdersEmpty(session)"
          is-stretch="true"
          title="'Офомить заказ'">
        </custom-button>
      </div>


      <div class="session-page__footer-button">
        <custom-button
          on-click="deleteSession(session)"
          ng-show="isSessionCreator(session) && session.status == 0 && !isOrdersEmpty(session)"
          is-stretch="true"
          title="'Удалить сессию'">
        </custom-button>
      </div>
    </div>
    <div class="session-page__empty-session" ng-show="isOrdersEmpty(session)" >
        Список заказов пуст
    </div>
  </div>
</div>
